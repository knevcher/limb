BEGIN EXECUTE IMMEDIATE 'DROP TABLE test_table'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
CREATE TABLE test_db_table (
  field1 number NOT NULL,
  field2 VARCHAR2(255)
);
/
BEGIN EXECUTE IMMEDIATE 'DROP SEQUENCE test_object_seq'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
CREATE SEQUENCE test_object_seq;
/
BEGIN EXECUTE IMMEDIATE 'DROP TABLE test_object'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
CREATE TABLE test_object (
  id number NOT NULL,
  title varchar(255) default NULL,
  PRIMARY KEY  (id)
);
/
CREATE OR REPLACE TRIGGER test_object_trigger
BEFORE INSERT ON test_object REFERENCING NEW AS NEW FOR EACH ROW
BEGIN IF :NEW.ID IS NULL THEN SELECT test_object_seq.NEXTVAL INTO :NEW.ID FROM DUAL; END IF; END;
/
